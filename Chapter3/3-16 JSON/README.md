# JSONについて

## JSONとは？

JSON（JavaScript Object Notation）は、データをテキスト形式で保存したり、データ交換をする際に使われるフォーマットです。JSONはJavaScriptのオブジェクトの構文を基にしていますが、多くのプログラミング言語で使えるように設計されています。そのため、Web開発でよく使用されています。
JSONは、データの階層構造を表すことができるため、いろんな情報を便利に効率よくまとめることができます。

## JSONの基本的な構造

JSONは以下の2つの構造をベースにしています：

1.オブジェクト - キーと値のペアの集まり。キーは文字列で、値は任意のデータ型。オブジェクトは中括弧 {} で囲みます。

例：
```JSON
{
    "name": "じゅあ",
    "age": 5,
    "isNyan": true
}
```


2.配列 - 値の順序付きリストで、配列は角括弧 [] で囲みます。

例：
```PHP
[
    "apple",
    "banana",
    "cherry"
]
```

これらの構造を組み合わせることで、JSONを使うことができます。

## JSONのルール

### １.扱うことができるデータ型

以下の６つです：
 A.数値（整数や浮動小数点数）
 B.文字列（ダブルクオートで囲む）
 C.ブーリアン（true または false）
 D.配列（角括弧 [] で囲む）
 E.オブジェクト（中括弧 {} で囲む）
 F.null

### JSONのキーについてのルール

以下の２つです：
A.キーは文字列でなければならない（ダブルクオートで囲む）。
B.キーに使えるのは文字列のみで、数字、オブジェクト、配列は使用できない。

なので、以下は不正なJSON形式となります：

```JSON
{ {"name": "ジャック"}: {"age": 4} }
```

上記を正しくするなら、以下のようになります：

```JSON
{
    "ジャック": {"age": 4, "city": "Hiroshima"}
}
```

### エンコーディング
基本的にUTF-8を使用するのが「お作法」です

### 配列とオブジェクト

配列やオブジェクトはネストして使用でき、これにより、複雑なデータ構造も表現可能です。
配列内の要素には異なる型のデータを含めることができます。

### 無効なJSONの例
よくある失敗例はこんな感じです。

キーがダブルクオートで囲まれていない：
```JSON
{name: "ぴのこ"}  // 無効
```

オブジェクトの値の後に不要なカンマがある：
```JSON
{
    "name": "りもこ",
    "age": 25,
}  // 無効

```

文字列がシングルクオートで囲まれている：
```JSON
{'name': 'りもこ'}  // 無効
```



## 連想配列とJSON
なお、連想配列はそれ自体が階層構造の情報を持っています。つまり、連想配列とJSONはそれぞれが近いものと言えるでしょう。ですから、連想配列からJSONを作ったり（json_encode管数）逆にJSONから連想配列に直したり（json_decode管数）することもできます。各自、以下の例を実行してみましょう。

例：

```PHP
<?php
$users = array(
    array(
        "name" => "じゅあ",
        "age" => 5,
        "contact" => array(
            "email" => "jua@example.com",
            "phone" => "123-456-7890"
        )
    ),
    array(
        "name" => "ぴのこ",
        "age" => 4,
        "contact" => array(
            "email" => "pino@example.com",
            "phone" => "098-765-4321"
        )
    )
);

$jsonData = json_encode($users);
echo $jsonData;
?>
```



## JSONデータの利用例

特に頻度の高いJSONの使用例は以下の３つです：

1.Web APIからのデータ受け取り - 多くのWeb APIはデータをJSON形式で提供します。これにより、異なるプログラミング言語やプラットフォーム間でのデータ交換が容易になります。

2.設定ファイル - 設定情報を保存する際にJSON形式を使うことが多いです。その理由は、人間が読みやすく書きやすい（可読性が高い）からです。

3.データストレージ - 軽量であるため、小規模なデータベースやファイルシステムでJSON形式を使うことがあります。

JSONと配列の組み合わせ
JSONで配列を使うと、複数のオブジェクトを効率的に扱うことができます。例えば、以下のようにユーザーのリストをJSON配列で表現することができるます。


```JSON
[
    {
        "name": "じゃっく",
        "age": 4
    },
    {
        "name": "ぴのこ",
        "age": 4
    },
    {
        "name": "じゅあ",
        "age": 5
    }
]
```


この形式では、各オブジェクトが個々のユーザーを表しており、配列として複数のユーザー情報をまとめて扱うことができます。JSONの使い方を理解して、プログラミングに活かしましょう！